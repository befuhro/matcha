{% extends "layout.html" %}
{% block styles %}
    {{ super() }}
{%- endblock %}
{% block title %}Matchat'{% endblock %}
{% block body %}
    {% block nav %}
        {{ super() }}
    {%- endblock %}
    {% block content %}
        {% if matches|length > 0 %}
            <div class="container chat_container">
                <div id="contacts">
                    {% for match in matches %}
                        <div class='contact'>
                            <img class='contact_thumb' src='{{ match[5] }}' id="usr_{{ match[2] }}"/>
                            <span>{{ match[3] }}</span>
                        </div>
                    {% endfor %}
                </div>
                <div id='mess_container'></div>
                <form id='chat_form' class="invisible">
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" class="form-control" rows="3"></textarea>
                    </div>
                    <button id='chatsubmit' type="submit" class="btn btn-default">Send message</button>
                </form>
            </div>
        {% else %}
            <div class="container large_message">You don't have any matches</div>
        {% endif %}
    {%- endblock %}
    {% block footer %}
        {{ super() }}
    {%- endblock %}
    {% block scripts %}
        {{ super() }}
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js"></script>
        {% if matches|length > 0 %}
            <script src="static/js/chat.js"></script>
        {% endif %}
        <script src="static/js/notifs.js"></script>
    {%- endblock %}
{%- endblock %}